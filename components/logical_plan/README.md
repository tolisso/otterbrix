# Logical Plan Component

## Назначение

Компонент `logical_plan` представляет логический план запроса в виде дерева узлов операций, создаваемого после парсинга SQL и перед генерацией физического плана.

## Основные файлы

### Базовые классы
- `node.hpp/cpp` - Базовый класс узла логического плана
- `forward.hpp` - Предварительные объявления
- `param_storage.hpp/cpp` - Хранилище параметров запроса

### DDL узлы (Data Definition)
- `node_create_database.hpp/cpp` - Создание базы данных
- `node_drop_database.hpp/cpp` - Удаление базы данных
- `node_create_collection.hpp/cpp` - Создание коллекции/таблицы
- `node_drop_collection.hpp/cpp` - Удаление коллекции/таблицы
- `node_create_index.hpp/cpp` - Создание индекса
- `node_drop_index.hpp/cpp` - Удаление индекса

### DML узлы (Data Manipulation)
- `node_insert.hpp/cpp` - Вставка данных
- `node_update.hpp/cpp` - Обновление данных
- `node_delete.hpp/cpp` - Удаление данных
- `node_match.hpp/cpp` - Фильтрация данных (WHERE)

### Узлы операций запросов
- `node_data.hpp/cpp` - Источник данных (таблица/коллекция)
- `node_join.hpp/cpp` - Соединение таблиц
- `node_aggregate.hpp/cpp` - Агрегация
- `node_group.hpp/cpp` - Группировка (GROUP BY)
- `node_sort.hpp/cpp` - Сортировка (ORDER BY)
- `node_limit.hpp/cpp` - Ограничение результатов (LIMIT)
- `node_function.hpp/cpp` - Вызов функции

## Ключевые классы и функциональность

### Базовый класс

- **`node_t`** - Базовый узел логического плана:
  - Дочерние узлы (children)
  - Выражения (expressions)
  - Сериализация/десериализация
  - Отслеживание зависимостей от коллекций

### Типы узлов

Каждый тип операции представлен отдельным классом узла:
- **DDL узлы** - создание и удаление объектов БД
- **DML узлы** - манипуляция данными
- **Query узлы** - операции выборки и преобразования данных

### Вспомогательные классы

- **`param_storage`** - Хранилище параметров запроса для параметризованных запросов

## Использование

Логический план создается трансформером SQL и передается:
1. В планировщик (planner) для оптимизации
2. В генератор физического плана для создания исполняемых операторов

Логический план является независимым от типа хранилища (документное или колоночное) и представляет операции на высоком уровне абстракции.
